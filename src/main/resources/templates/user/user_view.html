<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" th:href="@{/css/user.css}">
    <script th:src="@{/js/jquery-2.1.1-min.js}"></script>
</head>
<body>
<h1>用户列表</h1>
<div>
    <div class="col-sm-2 control-label">
        <a th:href="@{/toAdd}" class="btn btn-info">新增</a>
    </div>
</div>
<div  class="with:80%">
<table  class="table table-hover">
    <thead>
    <tr class="danger">
        <td style="display: none">id</td>
        <td>用户名</td>
        <td>昵称</td>
        <td>性别</td>
        <td>邮箱</td>
        <td>时间</td>
        <td>操作</td>
    </tr>
    </thead>
    <tbody>
    <tr class="warning" th:each="user: ${userList}">
        <td style="display: none" th:text="${user.id}"></td>
        <td th:text="${user.username}"></td>
        <td th:text="${user.nickname}"></td>
        <td th:text="${user.sex}"></td>
        <td th:text="${user.email}"></td>
        <td th:text="${user.regtime}" pattern="yyyy-MM-dd"></td>
        <td><a th:href="@{/toEdit(id=${user.id})}">修改</a>&nbsp;&nbsp;
            <a th:href="@{/delete(id=${user.id})}">删除</a></td>
    </tr>
    </tbody>
</table>
</div>

<script>
    function getData() {
        $.ajax({
            url:'/user/getAll',
            type:'post',
            dataType:'json',
            success:function (result) {
                console.log(result)
            },
            error:function () {

            }
        })
    }

</script>
</body>
</html>